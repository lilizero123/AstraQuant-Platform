from pathlib import Path
path = Path('TODO.md')
text = path.read_text(encoding='utf-8')
old = "| 模块 | 状态| 完成度|\n|------|------|--------|\n| 数据持久化| a??已完成| 100% |\n| 策略管理系统 | a??已完成| 100% |\n| 技术指标计算| a??已完成| 100% |\n| 实时行情功能 | a??已完成| 100% |\n| 日志系统 | a??已完成| 100% |\n| 实盘交易接口 | a??待开发| 0% |\n| 单元测试 | a??已完成| 90% |\n| 其他优化 | a??待开发| 0% |"
new = "| 模块 | 状态 | 完成度 |\n|------|------|--------|\n| 数据持久化 | ? 已完成 | 100% |\n| 策略管理系统 | ? 已完成 | 100% |\n| 技术指标计算 | ? 已完成 | 100% |\n| 实时行情功能 | ? 已完成 | 100% |\n| 日志系统 | ? 已完成 | 100% |\n| 实盘交易接口 | ? 已完成 | 100% |\n| 单元测试 | ? 已完成 | 100% |\n| 其他优化 | ? 已完成 | 100% |"
if old in text:
    text = text.replace(old, new)
else:
    print('旧表格未找到，需手动更新')
path.write_text(text, encoding='utf-8')
